namespace SpriteKind {
    export const COW = SpriteKind.create()
}
function MOO_MOO_MUSIC () {
    for (let index = 0; index < 10; index++) {
        for (let index = 0; index < 1; index++) {
            music.playTone(392, music.beat(BeatFraction.Half))
            music.playTone(587, music.beat(BeatFraction.Half))
            music.playTone(494, music.beat(BeatFraction.Half))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(440, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(370, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(440, music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Quarter))
            music.playTone(523, music.beat(BeatFraction.Quarter))
            music.playTone(587, music.beat(BeatFraction.Half))
            music.playTone(523, music.beat(BeatFraction.Half))
            music.playTone(494, music.beat(BeatFraction.Half))
            music.playTone(587, music.beat(BeatFraction.Half))
            music.playTone(784, music.beat(BeatFraction.Half))
            music.playTone(880, music.beat(BeatFraction.Quarter))
            music.playTone(784, music.beat(BeatFraction.Quarter))
            music.playTone(370, music.beat(BeatFraction.Quarter))
            music.playTone(587, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(440, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Half))
            music.playTone(587, music.beat(BeatFraction.Half))
            music.playTone(494, music.beat(BeatFraction.Half))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(440, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(370, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(440, music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Quarter))
            music.playTone(523, music.beat(BeatFraction.Quarter))
            music.playTone(587, music.beat(BeatFraction.Half))
            music.playTone(494, music.beat(BeatFraction.Half))
            music.playTone(587, music.beat(BeatFraction.Half))
            music.playTone(784, music.beat(BeatFraction.Half))
            music.playTone(740, music.beat(BeatFraction.Quarter))
            music.playTone(784, music.beat(BeatFraction.Quarter))
            music.playTone(880, music.beat(BeatFraction.Quarter))
            music.playTone(988, music.beat(BeatFraction.Quarter))
            music.playTone(523, music.beat(BeatFraction.Quarter))
            music.playTone(784, music.beat(BeatFraction.Quarter))
            music.rest(music.beat(BeatFraction.Quarter))
        }
        for (let index = 0; index < 2; index++) {
            music.playTone(784, music.beat(BeatFraction.Quarter))
            music.playTone(659, music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Quarter))
        }
        for (let index = 0; index < 2; index++) {
            music.playTone(784, music.beat(BeatFraction.Quarter))
            music.playTone(659, music.beat(BeatFraction.Quarter))
            music.playTone(523, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(330, music.beat(BeatFraction.Quarter))
            music.playTone(262, music.beat(BeatFraction.Quarter))
            music.playTone(330, music.beat(BeatFraction.Quarter))
            music.playTone(370, music.beat(BeatFraction.Quarter))
            music.playTone(392, music.beat(BeatFraction.Quarter))
            music.playTone(523, music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Quarter))
            music.playTone(523, music.beat(BeatFraction.Quarter))
            music.playTone(587, music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Half))
            music.rest(music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Quarter))
            music.playTone(587, music.beat(BeatFraction.Quarter))
            music.playTone(494, music.beat(BeatFraction.Quarter))
            music.playTone(440, music.beat(BeatFraction.Whole))
            music.rest(music.beat(BeatFraction.Whole))
        }
    }
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (In_Race == true) {
        animation.runImageAnimation(
        mySprite,
        [img`
            . . . . . . 2 2 2 . . . . . . . 
            . . . . . 1 2 2 2 1 . . . . . . 
            . . . . 1 1 2 2 2 1 1 . . . . . 
            . . . . 1 2 2 2 2 2 1 . . . . . 
            . . . . 1 2 2 2 2 2 1 . . . . . 
            . . . f f 2 2 2 2 2 f f . . . . 
            . . . 5 f 2 f f f 2 f 5 . . . . 
            . . . f f 2 d d d 2 f f . . . . 
            . . . . 2 2 e e e 2 2 . . . . . 
            . . . . 2 2 e e e 2 2 . . . . . 
            . . . . 2 2 2 2 2 2 2 . . . . . 
            . . f f 2 2 2 2 2 2 2 f f . . . 
            . . 5 f 2 e 2 2 2 e 2 f 5 . . . 
            . . f f 2 f 2 2 2 f 2 f f . . . 
            . . . . . f . . . f . . . . . . 
            . . . . f f f . f f f . . . . . 
            `],
        500,
        true
        )
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile6`, function (sprite, location) {
    lap_tracker = true
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tileGrass3, function (sprite, location) {
    if (Can_Move == true) {
        controller.moveSprite(mySprite, 50, 50)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile`, function (sprite, location) {
    MOO_MOO_MEADOWS()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile4`, function (sprite, location) {
    if (lap_tracker == true) {
        lap_tracker = false
        Laps_Counter += 1
        info.setScore(Laps_Counter)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.COW, function (sprite, otherSprite) {
    Can_Move = false
    Crash = randint(1, 4)
    controller.moveSprite(mySprite, 0, 0)
    if (Crash == 1) {
        mySprite.setVelocity(200, 0)
    } else if (Crash == 2) {
        mySprite.setVelocity(-200, 0)
    } else if (Crash == 3) {
        mySprite.setVelocity(0, 200)
    } else {
        mySprite.setVelocity(0, -200)
    }
    pause(250)
    mySprite.setVelocity(0, 0)
    Can_Move = true
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (In_Race == true) {
        animation.runImageAnimation(
        mySprite,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . f 5 f . . 
            . . . . . f 5 f . . . f f f . . 
            . . 1 1 1 f f f 2 2 2 2 2 2 . f 
            . 1 1 2 2 2 2 2 2 2 2 2 e f f f 
            2 2 2 2 2 2 f d e e 2 2 2 2 . f 
            2 2 2 2 2 2 f d e e 2 2 2 2 . . 
            2 2 2 2 2 2 f d e e 2 2 2 2 . f 
            . 1 1 2 2 2 2 2 2 2 2 2 e f f f 
            . . 1 1 1 f f f 2 2 2 2 2 2 . f 
            . . . . . f 5 f . . . f f f . . 
            . . . . . . . . . . . f 5 f . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        500,
        false
        )
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile3`, function (sprite, location) {
    if (Can_Move == true) {
        controller.moveSprite(mySprite, 50, 50)
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (In_Race == true) {
        animation.runImageAnimation(
        mySprite,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . f 5 f . . . . . . . . . . . 
            . . f f f . . . f 5 f . . . . . 
            f . 2 2 2 2 2 2 f f f 1 1 1 . . 
            f f f e 2 2 2 2 2 2 2 2 2 1 1 . 
            f . 2 2 2 2 e e d f 2 2 2 2 2 2 
            . . 2 2 2 2 e e d f 2 2 2 2 2 2 
            f . 2 2 2 2 e e d f 2 2 2 2 2 2 
            f f f e 2 2 2 2 2 2 2 2 2 1 1 . 
            f . 2 2 2 2 2 2 f f f 1 1 1 . . 
            . . f f f . . . f 5 f . . . . . 
            . . f 5 f . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        500,
        false
        )
    }
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tilePath5, function (sprite, location) {
    if (Can_Move == true) {
        controller.moveSprite(mySprite, 100, 100)
    }
})
function Setup () {
    Title_Enabled = true
    scene.setBackgroundImage(assets.image`Title`)
    pause(5000)
    Title_Enabled = false
    Track_Screen_Enabled = true
    scene.setBackgroundImage(assets.image`Track selection`)
    tiles.setCurrentTilemap(tilemap`level1`)
    mySprite = sprites.create(assets.image`Hand`, SpriteKind.Player)
    mySprite.setStayInScreen(true)
    controller.moveSprite(mySprite, 100, 100)
    Can_Move = true
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (In_Race == true) {
        animation.runImageAnimation(
        mySprite,
        [img`
            . . . . . f f f . f f f . . . . 
            . . . . . . f . . . f . . . . . 
            . . . f f 2 f 2 2 2 f 2 f f . . 
            . . . 5 f 2 e 2 2 2 e 2 f 5 . . 
            . . . f f 2 2 2 2 2 2 2 f f . . 
            . . . . . 2 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 e e e 2 2 . . . . 
            . . . . . 2 2 e e e 2 2 . . . . 
            . . . . f f 2 d d d 2 f f . . . 
            . . . . 5 f 2 f f f 2 f 5 . . . 
            . . . . f f 2 2 2 2 2 f f . . . 
            . . . . . 1 2 2 2 2 2 1 . . . . 
            . . . . . 1 2 2 2 2 2 1 . . . . 
            . . . . . 1 1 2 2 2 1 1 . . . . 
            . . . . . . 1 2 2 2 1 . . . . . 
            . . . . . . . 2 2 2 . . . . . . 
            `],
        500,
        false
        )
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile5`, function (sprite, location) {
    lap_tracker = true
})
function MOO_MOO_MEADOWS () {
    mySprite.setImage(assets.image`Race Car`)
    scene.cameraFollowSprite(mySprite)
    tiles.setCurrentTilemap(tilemap`MOO MOO MEADOWS -MAP-`)
    In_Race = true
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    tiles.placeOnTile(mySprite, tiles.getTileLocation(29, 12))
    game.showLongText("3", DialogLayout.Bottom)
    game.showLongText("2", DialogLayout.Bottom)
    game.showLongText("1", DialogLayout.Bottom)
    lap_tracker = false
    Laps_Counter = 0
    COW_1 = sprites.create(assets.image`cow`, SpriteKind.COW)
    COW_2 = sprites.create(img`
        ..................d.....................
        ..................d.....................
        ..................d.....................
        .........dd......dd.....................
        .........dd......ddd....................
        .........d111dbbddbcc6..................
        ........111dccccddedb188................
        ......dddbcccccccbcfccc88cbcccd.........
        .....dd11ccccccccccccccccccccccffcd.....
        ....11111ccccccccccccfffcccccccbddbb....
        ....11c11ffbcccccccccccbfffcccccbddd....
        ...111b1dfffcccccccccccb88cccccccdddb...
        ...111111ccccccccccccccb888ccccccdddb...
        ..111ddddddccccccccccccb88ccccccccddbbd.
        ..1dddddddddbbcccccccccb88ccccccccbdbbb.
        ..ddddddddddddddbbbbbfcc8cccccccccbbbbb.
        ..dddddddddddddddbbbbfc88cccccccccbbbbb.
        ..ddddedddddddddddbbbfc8cbcccccccbbbbbb.
        ..5ddd4dddddddddddbbbc88bbbccccbbbbbbbb.
        .d4ddd4dddddddddbbbbe888bbbbbbbbbbbbbbd.
        .55555ebbdddddbbeebee8cbbbbbbbbbccbbbd..
        .e455eebbdddbbbebbeeecbbbbbbbbccccbbb...
        ...ccebbbdbbbbebbbeefbbbbbbbbbcccbbbb...
        .....deeeebbbbbeeecfcbbbbbbbbccdcbbbd...
        ......beeeeeeeeeecccbbbbddbbbcc.bbbb....
        ............eeeefd..dbbbddbbb...cbbb....
        ............44eeed..bcbbddbbb...cbdb....
        ............444eeb..cfccdddbd...fbbb....
        ............5444ee.....1dddb...ccccc....
        ............1bcffd....11dddb...ffccc....
        ............ccccfc....1111dd............
        ............cccc......1cddbc............
        ......................bccccf............
        ......................cccccd............
        ......................ffffc.............
        `, SpriteKind.COW)
    COW_3 = sprites.create(img`
        ..................d.....................
        ..................d.....................
        ..................d.....................
        .........dd......dd.....................
        .........dd......ddd....................
        .........d111dbbddbcc6..................
        ........111dccccddedb188................
        ......dddbcccccccbcfccc88cbcccd.........
        .....dd11ccccccccccccccccccccccffcd.....
        ....11111ccccccccccccfffcccccccbddbb....
        ....11c11ffbcccccccccccbfffcccccbddd....
        ...111b1dfffcccccccccccb88cccccccdddb...
        ...111111ccccccccccccccb888ccccccdddb...
        ..111ddddddccccccccccccb88ccccccccddbbd.
        ..1dddddddddbbcccccccccb88ccccccccbdbbb.
        ..ddddddddddddddbbbbbfcc8cccccccccbbbbb.
        ..dddddddddddddddbbbbfc88cccccccccbbbbb.
        ..ddddedddddddddddbbbfc8cbcccccccbbbbbb.
        ..5ddd4dddddddddddbbbc88bbbccccbbbbbbbb.
        .d4ddd4dddddddddbbbbe888bbbbbbbbbbbbbbd.
        .55555ebbdddddbbeebee8cbbbbbbbbbccbbbd..
        .e455eebbdddbbbebbeeecbbbbbbbbccccbbb...
        ...ccebbbdbbbbebbbeefbbbbbbbbbcccbbbb...
        .....deeeebbbbbeeecfcbbbbbbbbccdcbbbd...
        ......beeeeeeeeeecccbbbbddbbbcc.bbbb....
        ............eeeefd..dbbbddbbb...cbbb....
        ............44eeed..bcbbddbbb...cbdb....
        ............444eeb..cfccdddbd...fbbb....
        ............5444ee.....1dddb...ccccc....
        ............1bcffd....11dddb...ffccc....
        ............ccccfc....1111dd............
        ............cccc......1cddbc............
        ......................bccccf............
        ......................cccccd............
        ......................ffffc.............
        `, SpriteKind.COW)
    scaling.scaleToPercent(COW_1, 75, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    scaling.scaleToPercent(COW_2, 75, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    scaling.scaleToPercent(COW_3, 75, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    tiles.placeOnTile(COW_1, tiles.getTileLocation(11, 4))
    tiles.placeOnTile(COW_2, tiles.getTileLocation(7, 7))
    tiles.placeOnTile(COW_3, tiles.getTileLocation(4, 4))
    mySprite2 = sprites.create(img`
        . . . . . . 7 7 7 . . . . . . . 
        . . . . . 1 7 7 7 1 . . . . . . 
        . . . . 1 1 7 7 7 1 1 . . . . . 
        . . . . 1 7 7 7 7 7 1 . . . . . 
        . . . . 1 7 7 7 7 7 1 . . . . . 
        . . . f f 7 7 7 7 7 f f . . . . 
        . . . 5 f 7 f f f 7 f 5 . . . . 
        . . . f f 7 d d d 7 f f . . . . 
        . . . . 7 7 6 6 6 7 7 . . . . . 
        . . . . 7 7 6 6 6 7 7 . . . . . 
        . . . . 7 7 7 7 7 7 7 . . . . . 
        . . f f 7 7 7 7 7 7 7 f f . . . 
        . . 5 f 7 e 7 7 7 e 7 f 5 . . . 
        . . f f 7 f 7 7 7 f 7 f f . . . 
        . . . . . f . . . f . . . . . . 
        . . . . f f f . f f f . . . . . 
        `, SpriteKind.Enemy)
    tiles.placeOnTile(mySprite2, tiles.getTileLocation(28, 13))
}
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tileGrass1, function (sprite, location) {
    if (Can_Move == true) {
        controller.moveSprite(mySprite, 50, 50)
    }
})
let mySprite2: Sprite = null
let COW_3: Sprite = null
let COW_2: Sprite = null
let COW_1: Sprite = null
let Track_Screen_Enabled = false
let Title_Enabled = false
let Crash = 0
let Laps_Counter = 0
let lap_tracker = false
let mySprite: Sprite = null
let In_Race = false
let Can_Move = false
Setup()
MOO_MOO_MUSIC()
Can_Move = true
game.onUpdateInterval(500, function () {
    if (Laps_Counter == 3) {
        In_Race = false
        scene.setBackgroundImage(assets.image`Win Screen`)
        tiles.setCurrentTilemap(tilemap`level3`)
        mySprite.setImage(img`
            . . . . . . . . . . . . . . . f 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
        controller.moveSprite(mySprite, 0, 0)
        Laps_Counter = 0
    }
})
